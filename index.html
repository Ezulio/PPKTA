
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Jual Beli Mobil</title>
    <link href="https://www.w3schools.com/w3css/4/w3.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src=" https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.0/js/dataTables.buttons.min.js"></script>
    <script src=" https://cdn.datatables.net/buttons/1.6.0/js/buttons.print.min.js"></script>
    <script src="Script.js"></script>
</head>
<body>
<div class="w3-sidebar w3-bar-block w3-white w3-animate-left" id="mySidebar" style="display:none;z-index:4">
    <button class="w3-bar-item w3-button" onclick="w3_close()">Close</button>
    <a class="w3-bar-item w3-button" href="index.html">Home</a>
    <a class="w3-bar-item w3-button" href="Hapus.html">Hapus</a>
    <a class="w3-bar-item w3-button" href="Tambah_Barang.html">Tambah Barang</a>
    <a class="w3-bar-item w3-button" href="Stock.html">Stock</a>
    <a class="w3-bar-item w3-button" href="Tambah_Karyawan.html">Tambah Petugas</a>
    <a class="w3-bar-item w3-button" href="List_Karyawan.html">List Petugas</a>
    <a class="w3-bar-item w3-button" href="Histori.html">Histori Pemesanan</a>
</div>
<div class="w3-overlay w3-animate-opacity" id="myOverlay" onclick="w3_close()" style="cursor:pointer"></div>
<div>
    <button class="w3-button w3-white w3-xxlarge" onclick="w3_open()">&#9776;</button>
    <div class="w3-container">
        <h1>Kasir</h1>
        <form action="https://web111048.000webhostapp.com/beli.php" method="post">
            <table>
                <tr>
                    <th>ID Mobil</th>
                    <th>:</th>
                    <th><input type="text" name="id" id="id"></th>
                </tr>
                <tr>
                    <th>No KTP</th>
                    <th>:</th>
                    <th><input type="text" name="ktp" id="ktp"></th>
                </tr>
                <tr>
                    <th>Nama Pembeli</th>
                    <th>:</th>
                    <th><input type="text" name="pembeli" id="pembeli"></th>
                </tr>
                <tr>
                    <th>Jumlah Mobil</th>
                    <th>:</th>
                    <th><input type="text" name="stok" id="stok"></th>
                </tr>
                <tr>
                    <th>ID Karyawan</th>
                    <th>:</th>
                    <th><input type="text" name="karyawan" id="karyawan"></th>
                </tr>
                <tr>
                    <th></th>
                    <th></th>
                    <th><input type="submit"></th>
                </tr>
            </table>
        </form>
        <br>
        <table class="display" id="stock" style="width:100%;">
            <thead>
            <tr>
                <th>ID Mobil</th>
                <th>Nama Mobil</th>
                <th>Stock Mobil</th>
                <th>Harga Barang</th>
            </tr>
            </thead>
        </table>
    </div>
</div>
</div>
</body>
</html>
<script>
    function incrementValue(e) {
        e.preventDefault();
        var fieldName = $(e.target).data('field');
        var parent = $(e.target).closest('div');
        var currentVal = parseInt(parent.find('input[name=' + fieldName + ']').val(), 10);

        if (!isNaN(currentVal)) {
            parent.find('input[name=' + fieldName + ']').val(currentVal + 1);
        } else {
            parent.find('input[name=' + fieldName + ']').val(0);
        }
    }

    function decrementValue(e) {
        e.preventDefault();
        var fieldName = $(e.target).data('field');
        var parent = $(e.target).closest('div');
        var currentVal = parseInt(parent.find('input[name=' + fieldName + ']').val(), 10);

        if (!isNaN(currentVal) && currentVal > 0) {
            parent.find('input[name=' + fieldName + ']').val(currentVal - 1);
        } else {
            parent.find('input[name=' + fieldName + ']').val(0);
        }
    }

    $('.input-group').on('click', '.button-plus', function (e) {
        incrementValue(e);
    });

    $('.input-group').on('click', '.button-minus', function (e) {
        decrementValue(e);
    });

    function totalprice(el) {
        var parent = $(el).closest('tr');
        var price = parent.find('.price').val() == "" ? 1 : parent.find('.price').val();
        var qty = parent.find('.quantity-field').val() == "" ? 1 : parent.find('.quantity-field').val();
        var total = price * qty;
        parent.find('.total').val(total);
    }

    $(document).ready(function () {
        var total = $('.total');
        var totalharga = $('#totalharga');
        totalharga.html('0');
        $.each(total, function (index, object) {
            var boldTag = $(object).find('b');
            if (boldTag && boldTag.length > 0 && $(boldTag[0]).html() != '') {
                totalharga.html(parseInt(expenseTotal.html()) + parseInt($(boldTag[0]).html().replace(/,/g, '')));
            }
        })
    });
</script>